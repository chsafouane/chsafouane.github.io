digraph FilteredGraph {
    graph [
        rankdir=LR
        bgcolor=white
        fontname="Helvetica"
        fontsize=14
        pad=0.5
        nodesep=0.5
        ranksep=0.8
        dpi=150
        compound=true
    ]
    
    node [
        fontname="Helvetica"
        fontsize=11
        style="filled"
        shape=circle
        width=0.6
        fixedsize=true
    ]
    
    // Filtered set (Apple + Google)
    subgraph cluster_filtered {
        label="Filtered set (Apple + Google)"
        fontsize=12
        fontcolor="#28a745"
        style="rounded,filled"
        fillcolor="#f0fff0"
        color="#28a745"
        penwidth=2
        
        // Apple cluster
        subgraph cluster_apple {
            label="Apple"
            fontsize=10
            fontcolor="#28a745"
            style="rounded,filled"
            fillcolor="#e8f5e9"
            color="#28a745"
            penwidth=1.5
            
            A [label="A" fillcolor="#d4edda" color="#28a745" penwidth=2]
            B [label="B" fillcolor="#d4edda" color="#28a745" penwidth=2]
            E [label="E" fillcolor="#d4edda" color="#28a745" penwidth=2]
        }
        
        // Google cluster
        subgraph cluster_google {
            label="Google"
            fontsize=10
            fontcolor="#1565c0"
            style="rounded,filled"
            fillcolor="#e3f2fd"
            color="#1565c0"
            penwidth=1.5
            
            C [label="C" fillcolor="#cce5ff" color="#1565c0" penwidth=2]
            D [label="D" fillcolor="#cce5ff" color="#1565c0" penwidth=2]
            G [label="G" fillcolor="#cce5ff" color="#1565c0" penwidth=2]
        }
        
        // Apple brand edges
        A -> B [dir=none color="#28a745" penwidth=3 style=bold]
        A -> E [dir=none color="#28a745" penwidth=3 style=bold]
        B -> E [dir=none color="#28a745" penwidth=3 style=bold]
        
        // Google brand edges
        C -> D [dir=none color="#1565c0" penwidth=3 style=bold]
        C -> G [dir=none color="#1565c0" penwidth=3 style=bold]
        D -> G [dir=none color="#1565c0" penwidth=3 style=bold]
        
        // Surviving cross-brand similarity edges
        A -> C [dir=none color="#999999" penwidth=2 style=dashed label="similarity" fontsize=9 fontcolor="#666666"]
        B -> G [dir=none color="#999999" penwidth=2 style=dashed]
    }
    
    // Removed nodes (Sony)
    subgraph cluster_removed {
        label="Removed (Sony)"
        fontsize=11
        fontcolor="#999999"
        style="rounded,dashed,filled"
        fillcolor="#fafafa"
        color="#cccccc"
        penwidth=1.5
        
        F [label="F" fillcolor="#f5f5f5" color="#cccccc" fontcolor="#999999" penwidth=1.5]
        H [label="H" fillcolor="#f5f5f5" color="#cccccc" fontcolor="#999999" penwidth=1.5]
        I [label="I" fillcolor="#f5f5f5" color="#cccccc" fontcolor="#999999" penwidth=1.5]
        
        F -> H [dir=none color="#dddddd" penwidth=1 style=dotted]
        H -> I [dir=none color="#dddddd" penwidth=1 style=dotted]
        F -> I [dir=none color="#dddddd" penwidth=1 style=dotted]
    }
    
    // Layout edge
    E -> F [style=invis]
}
