<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="layerGrad0" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fef3c7"/>
      <stop offset="100%" style="stop-color:#fde68a"/>
    </linearGradient>
    <linearGradient id="layerGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#dbeafe"/>
      <stop offset="100%" style="stop-color:#bfdbfe"/>
    </linearGradient>
    <linearGradient id="layerGrad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#dcfce7"/>
      <stop offset="100%" style="stop-color:#bbf7d0"/>
    </linearGradient>
    <linearGradient id="nodeBlue" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="nodeGreen" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="nodeOrange" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <filter id="shadow2" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="400" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#1f2937">HNSW Hierarchical Structure</text>
  
  <!-- Layer 2 (Top) -->
  <rect x="50" y="60" width="700" height="70" rx="8" fill="url(#layerGrad2)" opacity="0.7"/>
  <text x="70" y="85" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#059669">Layer 2 (Express)</text>
  <text x="70" y="100" font-family="system-ui, sans-serif" font-size="10" fill="#6b7280">Few nodes, long-range jumps</text>
  
  <!-- Layer 2 nodes and edges -->
  <line x1="200" y1="95" x2="600" y2="95" stroke="#10b981" stroke-width="3" opacity="0.6"/>
  <circle cx="200" cy="95" r="16" fill="url(#nodeGreen)" filter="url(#shadow2)"/>
  <text x="200" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white">A</text>
  <circle cx="600" cy="95" r="16" fill="url(#nodeGreen)" filter="url(#shadow2)"/>
  <text x="600" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white">E</text>
  
  <!-- Descent arrow 2->1 -->
  <path d="M400 115 L400 145" stroke="#9ca3af" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowGray)"/>
  <defs>
    <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#9ca3af"/>
    </marker>
  </defs>
  
  <!-- Layer 1 (Middle) -->
  <rect x="50" y="150" width="700" height="70" rx="8" fill="url(#layerGrad1)" opacity="0.7"/>
  <text x="70" y="175" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#2563eb">Layer 1 (Local)</text>
  <text x="70" y="190" font-family="system-ui, sans-serif" font-size="10" fill="#6b7280">More nodes, medium jumps</text>
  
  <!-- Layer 1 nodes and edges -->
  <line x1="200" y1="185" x2="300" y2="185" stroke="#3b82f6" stroke-width="2" opacity="0.5"/>
  <line x1="300" y1="185" x2="400" y2="185" stroke="#3b82f6" stroke-width="2" opacity="0.5"/>
  <line x1="400" y1="185" x2="500" y2="185" stroke="#3b82f6" stroke-width="2" opacity="0.5"/>
  <line x1="500" y1="185" x2="600" y2="185" stroke="#3b82f6" stroke-width="2" opacity="0.5"/>
  <circle cx="200" cy="185" r="14" fill="url(#nodeBlue)" filter="url(#shadow2)"/>
  <text x="200" y="189" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white">A</text>
  <circle cx="300" cy="185" r="14" fill="url(#nodeBlue)" filter="url(#shadow2)"/>
  <text x="300" y="189" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white">B</text>
  <circle cx="400" cy="185" r="14" fill="url(#nodeBlue)" filter="url(#shadow2)"/>
  <text x="400" y="189" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white">C</text>
  <circle cx="500" cy="185" r="14" fill="url(#nodeBlue)" filter="url(#shadow2)"/>
  <text x="500" y="189" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white">D</text>
  <circle cx="600" cy="185" r="14" fill="url(#nodeBlue)" filter="url(#shadow2)"/>
  <text x="600" y="189" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white">E</text>
  
  <!-- Descent arrow 1->0 -->
  <path d="M400 205 L400 235" stroke="#9ca3af" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowGray)"/>
  
  <!-- Layer 0 (Bottom) -->
  <rect x="50" y="240" width="700" height="70" rx="8" fill="url(#layerGrad0)" opacity="0.7"/>
  <text x="70" y="265" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#d97706">Layer 0 (Street)</text>
  <text x="70" y="280" font-family="system-ui, sans-serif" font-size="10" fill="#6b7280">All nodes, fine-grained</text>
  
  <!-- Layer 0 nodes and edges -->
  <g opacity="0.4">
    <line x1="150" y1="275" x2="200" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="200" y1="275" x2="250" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="250" y1="275" x2="300" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="300" y1="275" x2="350" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="350" y1="275" x2="400" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="400" y1="275" x2="450" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="450" y1="275" x2="500" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="500" y1="275" x2="550" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="550" y1="275" x2="600" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
    <line x1="600" y1="275" x2="650" y2="275" stroke="#f59e0b" stroke-width="1.5"/>
  </g>
  
  <circle cx="150" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <circle cx="200" cy="275" r="12" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <text x="200" y="279" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="white">A</text>
  <circle cx="250" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <circle cx="300" cy="275" r="12" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <text x="300" y="279" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="white">B</text>
  <circle cx="350" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <circle cx="400" cy="275" r="12" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <text x="400" y="279" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="white">C</text>
  <circle cx="450" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <circle cx="500" cy="275" r="12" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <text x="500" y="279" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="white">D</text>
  <circle cx="550" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <circle cx="600" cy="275" r="12" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  <text x="600" y="279" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="white">E</text>
  <circle cx="650" cy="275" r="10" fill="url(#nodeOrange)" filter="url(#shadow2)"/>
  
  <!-- Search path annotation -->
  <g transform="translate(50, 330)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="12" font-weight="500" fill="#374151">Search Process:</text>
    <text x="0" y="18" font-family="system-ui, sans-serif" font-size="11" fill="#6b7280">1. Start at top layer → coarse navigation (A → E)</text>
    <text x="0" y="34" font-family="system-ui, sans-serif" font-size="11" fill="#6b7280">2. Descend to layer 1 → local navigation (find neighborhood)</text>
    <text x="0" y="50" font-family="system-ui, sans-serif" font-size="11" fill="#6b7280">3. Descend to layer 0 → fine-grained search (exact match)</text>
  </g>
  
  <!-- Complexity note -->
  <rect x="550" y="330" width="200" height="50" rx="6" fill="#f3f4f6" stroke="#e5e7eb"/>
  <text x="650" y="350" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="500" fill="#374151">Time Complexity</text>
  <text x="650" y="368" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#059669">O(log n)</text>
</svg>
