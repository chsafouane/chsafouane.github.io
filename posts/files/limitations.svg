<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 500">
  <defs>
    <linearGradient id="warnGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fef3c7"/>
      <stop offset="100%" style="stop-color:#fde68a"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="850" height="500" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="425" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#1f2937">Limitations &amp; Edge Cases</text>
  
  <!-- Grid of limitation cards -->
  <!-- Row 1 -->
  <!-- Card 1: Non-indexed fields -->
  <g transform="translate(30, 50)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❶ Non-Indexed Fields</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Filters on non-indexed fields fall back</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">to post-filtering (the naive approach).</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Misses relevant results</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Must know query patterns upfront</text>
  </g>
  
  <!-- Card 2: Categorical bias -->
  <g transform="translate(300, 50)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❷ Categorical Bias</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Works best for discrete categories.</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Numerical ranges use bucketing.</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Boundary items need post-filtering</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Range queries less optimal</text>
  </g>
  
  <!-- Card 3: Complex filters -->
  <g transform="translate(570, 50)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❸ Complex Multi-Field Filters</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">No pre-built subgraph for arbitrary</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">combinations (A AND B AND C).</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Relies on individual field indexes</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Performance degrades with complexity</text>
  </g>
  
  <!-- Row 2 -->
  <!-- Card 4: Index timing -->
  <g transform="translate(30, 200)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❹ Index Timing Matters</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Indexes created after HNSW is built</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">won't have subgraph edges.</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Requires expensive index rebuild</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Plan indexes before data upload</text>
  </g>
  
  <!-- Card 5: Correlation -->
  <g transform="translate(300, 200)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❺ Filter-Vector Correlation</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Percolation assumes random removal.</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Correlated filters break this assumption.</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Filters may remove entire regions</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Theoretical guarantees weaken</text>
  </g>
  
  <!-- Card 6: Memory -->
  <g transform="translate(570, 200)">
    <rect x="0" y="0" width="250" height="130" rx="8" fill="white" stroke="#fca5a5" stroke-width="2"/>
    <rect x="0" y="0" width="250" height="30" rx="8" fill="#fef2f2"/>
    <rect x="0" y="20" width="250" height="10" fill="#fef2f2"/>
    <text x="125" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#991b1b">❻ Memory Overhead</text>
    
    <text x="15" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#374151">Each indexed field adds storage:</text>
    <text x="15" y="64" font-family="system-ui, sans-serif" font-size="10" fill="#374151">payload index + up to 2× HNSW edges.</text>
    
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="#dc2626">Impact:</text>
    <text x="15" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Memory scales with indexed fields</text>
    <text x="15" y="111" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">• Index only frequently filtered fields</text>
  </g>
  
  <!-- Correlation visualization -->
  <g transform="translate(30, 350)">
    <rect x="0" y="0" width="390" height="130" rx="8" fill="white" stroke="#e5e7eb"/>
    <text x="195" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#374151">Filter-Vector Correlation Explained</text>
    
    <!-- Random removal -->
    <g transform="translate(20, 35)">
      <text x="80" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#059669">Random Removal (Theory)</text>
      <rect x="0" y="10" width="160" height="80" fill="#f9fafb" stroke="#e5e7eb" rx="4"/>
      
      <!-- Scattered dots -->
      <circle cx="30" cy="30" r="6" fill="#10b981"/>
      <circle cx="80" cy="45" r="6" fill="#e5e7eb"/>
      <circle cx="50" cy="60" r="6" fill="#10b981"/>
      <circle cx="120" cy="35" r="6" fill="#e5e7eb"/>
      <circle cx="100" cy="70" r="6" fill="#10b981"/>
      <circle cx="140" cy="55" r="6" fill="#e5e7eb"/>
      <circle cx="60" cy="25" r="6" fill="#e5e7eb"/>
      <circle cx="130" cy="75" r="6" fill="#10b981"/>
      
      <text x="80" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6b7280">Removed nodes scattered</text>
    </g>
    
    <!-- Correlated removal -->
    <g transform="translate(210, 35)">
      <text x="80" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#dc2626">Correlated Removal (Reality)</text>
      <rect x="0" y="10" width="160" height="80" fill="#f9fafb" stroke="#e5e7eb" rx="4"/>
      
      <!-- Clustered dots -->
      <circle cx="30" cy="35" r="6" fill="#10b981"/>
      <circle cx="45" cy="50" r="6" fill="#10b981"/>
      <circle cx="35" cy="65" r="6" fill="#10b981"/>
      <circle cx="55" cy="40" r="6" fill="#10b981"/>
      
      <!-- Removed cluster -->
      <circle cx="110" cy="35" r="6" fill="#e5e7eb"/>
      <circle cx="125" cy="50" r="6" fill="#e5e7eb"/>
      <circle cx="115" cy="65" r="6" fill="#e5e7eb"/>
      <circle cx="135" cy="40" r="6" fill="#e5e7eb"/>
      
      <!-- Dividing line -->
      <line x1="80" y1="15" x2="80" y2="85" stroke="#ef4444" stroke-width="1" stroke-dasharray="3,3"/>
      
      <text x="80" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#6b7280">Entire region removed</text>
    </g>
  </g>
  
  <!-- Best practices box -->
  <g transform="translate(440, 350)">
    <rect x="0" y="0" width="380" height="130" rx="8" fill="#f0fdf4" stroke="#86efac"/>
    <text x="190" y="20" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#166534">✓ Best Practices Checklist</text>
    
    <text x="20" y="45" font-family="system-ui, sans-serif" font-size="10" fill="#374151">☑ Create payload indexes BEFORE uploading data</text>
    <text x="20" y="62" font-family="system-ui, sans-serif" font-size="10" fill="#374151">☑ Index only frequently-filtered fields</text>
    <text x="20" y="79" font-family="system-ui, sans-serif" font-size="10" fill="#374151">☑ Prefer categorical filters when possible</text>
    <text x="20" y="96" font-family="system-ui, sans-serif" font-size="10" fill="#374151">☑ Benchmark with realistic filter selectivities</text>
    <text x="20" y="113" font-family="system-ui, sans-serif" font-size="10" fill="#374151">☑ Monitor memory usage as you add indexes</text>
  </g>
</svg>
